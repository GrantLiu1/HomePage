<script>
  const encouragementMessages = [
    "再考虑一下嘛～我们都准备好了 🥺",
    "别走呀，来吧，真的很好玩 😭",
    "你要是不来，我们会很伤心的 💔",
    "这次不答应，下次还找你！😅",
    "我们真的很期待你的到来！🎉",
    "拒绝不是最终答案吧？😊",
    "再点一次我就消失了 😱"
  ];

  function showAgreeAlert() {
    alert("感谢您的确认，期待您的到来！");
  }

  function moveDisagreeButton() {
    const container = document.querySelector('.buttons');
    const agreeBtn = document.querySelector('.agree-btn');
    const disagreeBtn = document.getElementById('disagreeBtn');

    // 获取容器和按钮尺寸
    const containerRect = container.getBoundingClientRect();
    const agreeBtnRect = agreeBtn.getBoundingClientRect();
    const disagreeBtnRect = disagreeBtn.getBoundingClientRect();

    const padding = 20; // 按钮之间预留间距
    const btnWidth = disagreeBtn.offsetWidth;
    const btnHeight = disagreeBtn.offsetHeight;

    let randomX, randomY;
    let tryCount = 0;
    const maxTry = 50; // 防止死循环

    do {
      // 在容器内部随机生成位置
      randomX = Math.floor(Math.random() * (container.offsetWidth - btnWidth));
      randomY = Math.floor(Math.random() * (container.offsetHeight - btnHeight));
      tryCount++;

      // 检查是否与“同意”按钮冲突
      const isOverlap = checkOverlap(randomX, randomY, btnWidth, btnHeight, agreeBtnRect, containerRect);
    } while (isOverlap && tryCount < maxTry);

    // 设置新位置
    disagreeBtn.style.left = `${randomX}px`;
    disagreeBtn.style.top = `${randomY}px`;

    // 显示鼓励信息
    const message = encouragementMessages[Math.floor(Math.random() * encouragementMessages.length)];
    alert(message);
  }

  // 检测两个元素是否重叠
  function checkOverlap(x, y, width, height, targetRect, containerRect) {
    const newRect = {
      left: containerRect.left + x,
      top: containerRect.top + y,
      right: containerRect.left + x + width,
      bottom: containerRect.top + y + height
    };

    return !(
      newRect.right < targetRect.left ||
      newRect.left > targetRect.right ||
      newRect.bottom < targetRect.top ||
      newRect.top > targetRect.bottom
    );
  }
</script>
